<!doctype html>
<meta charset='utf-8'>
<meta name='viewport' content='width=device-width'>
<link rel='stylesheet' href='app.bundle.css'>
<body>
 <main id='container'></main>
 <script>
 var example = [
	{
		url: 'digitalsurgeons.com',
		status: 200
	},
	{
		url: 'nugofiber.digitalsurgeons.com',
		status: 200
	},
	{
		url: 'skillsoft.com',
		status: 200
	}
 ];

 function checkStatus() {
 // var result = JSON.parse();
 	var result = example;

	result.every(function(res) {
		if (res.status !== 200) {
			soundTheAlarm();
			return false;
		}

		return true;
	});
 }

 function soundTheAlarm() {
	 console.log('Alarm!!');

	 var audioContext = new AudioContext();

	 var osc = audioContext.createOscillator();
	 osc.type = 'sawtooth';
	 osc.frequency.value = 440;
	 osc.connect(audioContext.destination);
	 osc.start(0);

	 var gain = audioContext.createGain();
	 gain.gain.value = 100;
	 gain.connect(osc.frequency);

	 var osc2 = audioContext.createOscillator();
	 osc2.type = 'sawtooth';
	 osc2.frequency.value = 1;
	 osc2.connect(gain);
	 osc2.start(0);
 }

 var xhr = new XMLHttpRequest();
 xhr.addEventListener('load', checkStatus);
 xhr.open('GET', 'http://localhost:9090/logs/today');
 xhr.send();
</script>
 <script src='app.bundle.js'></script>
</body>
